<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>3DLayout Documentation for users</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="./doc_templates/pandoc.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link href='https://fonts.googleapis.com/css?family=Lato&subset=latin,latin-ext' rel='stylesheet' type='text/css'>
  <!DOCTYPE html>
  <html>
  <head>
      <style type="text/css">
          body {
          }
          #cover {
              border: 1px solid lightgray;
          }
      </style>
  </head>
  <body>
      <h1>ezzing3DLayout</h1>
      <h2>PV planning tool - User Documentation</h2>

      <img id="cover" class="w100" src="./doc_templates/portada-userDoc.jpg" alt="ezzing3DLayout Documentation" />

      <h1>Table of contents</h1>
  </body>
  </html>
</head>
<body>
<header id="title-block-header">
<h1 class="title">3DLayout Documentation for users</h1>
</header>
<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#screenshots">Screenshots</a></li>
<li><a href="#3dlayout-interface">3DLayout Interface</a>
<ul>
<li><a href="#aside-panel">Aside Panel</a></li>
<li><a href="#canvas-area">Canvas Area</a>
<ul>
<li><a href="#buildings-index">Buildings Index</a></li>
<li><a href="#main-options">Main Options</a></li>
<li><a href="#control-buttons">Control Buttons</a></li>
<li><a href="#notifications">Notifications</a></li>
</ul></li>
</ul></li>
<li><a href="#buildings">Buildings</a>
<ul>
<li><a href="#building-creation">Building creation</a>
<ul>
<li><a href="#custom-shapes">Custom shapes</a></li>
<li><a href="#draw-shape">Draw shape</a></li>
</ul></li>
<li><a href="#select-building">Select building</a></li>
<li><a href="#edit-building">Edit building</a></li>
<li><a href="#roof-editor">Roof editor</a>
<ul>
<li><a href="#pent-and-pergola">Pent and pergola</a></li>
<li><a href="#pyramid">Pyramid</a></li>
<li><a href="#gabled">Gabled</a></li>
<li><a href="#hipped">Hipped</a></li>
<li><a href="#mansard">Mansard</a></li>
</ul></li>
</ul></li>
<li><a href="#areas">Areas</a>
<ul>
<li><a href="#edit-area">Edit area</a></li>
</ul></li>
<li><a href="#subareas">Subareas</a>
<ul>
<li><a href="#subarea-creation">Subarea creation</a></li>
<li><a href="#add-subarea">Add subarea</a>
<ul>
<li><a href="#crop-subarea-to-the-area-shape">Crop subarea to the area shape</a></li>
<li><a href="#edit-subarea-vertices">Edit subarea vertices</a></li>
</ul></li>
<li><a href="#edit-subarea">Edit subarea</a></li>
<li><a href="#remove-subarea">Remove subarea</a></li>
</ul></li>
<li><a href="#keepouts">Keepouts</a>
<ul>
<li><a href="#invisible-keepouts">Invisible keepouts</a></li>
<li><a href="#crop-keepout-to-the-building-shape">Crop keepout to the building shape</a></li>
<li><a href="#vertical-and-inclined-keepouts">Vertical and inclined keepouts</a></li>
</ul></li>
<li><a href="#trees">Trees</a></li>
<li><a href="#drawing-with-snaps">Drawing with Snaps</a>
<ul>
<li><a href="#without-snap">Without Snap</a></li>
<li><a href="#guide-lines">Guide lines</a></li>
<li><a href="#grid">Grid</a></li>
<li><a href="#context-panel">Context panel</a>
<ul>
<li><a href="#on-a-point">On a point</a></li>
<li><a href="#on-an-edge">On an edge</a></li>
<li><a href="#on-a-module">On a module</a></li>
<li><a href="#on-a-keepout-in-subarea-view">On a keepout in subarea view</a></li>
<li><a href="#on-an-object">On an object</a></li>
</ul></li>
</ul></li>
<li><a href="#textures">Textures</a></li>
<li><a href="#shortcuts">Shortcuts</a></li>
<li><a href="#progress-bar">Progress bar</a></li>
<li><a href="#changelog">Changelog</a>
<ul>
<li><a href="#v3250-24032020">v3.25.0 (24/03/2020)</a>
<ul>
<li><a href="#features">Features</a></li>
<li><a href="#fixes">Fixes</a></li>
</ul></li>
<li><a href="#v3240-10022020">v3.24.0 (10/02/2020)</a>
<ul>
<li><a href="#features-1">Features</a></li>
<li><a href="#fixes-1">Fixes</a></li>
</ul></li>
<li><a href="#v3230-20112019">v3.23.0 (20/11/2019)</a>
<ul>
<li><a href="#features-2">Features</a></li>
<li><a href="#fixes-2">Fixes</a></li>
</ul></li>
<li><a href="#v3210-23092019">v3.21.0 (23/09/2019)</a>
<ul>
<li><a href="#features-3">Features</a></li>
<li><a href="#fixes-3">Fixes</a></li>
</ul></li>
<li><a href="#v3200-29082019">v3.20.0 (29/08/2019)</a>
<ul>
<li><a href="#features-4">Features</a></li>
<li><a href="#fixes-4">Fixes</a></li>
</ul></li>
<li><a href="#v3190-09082019">v3.19.0 (09/08/2019)</a>
<ul>
<li><a href="#features-5">Features</a></li>
<li><a href="#fixes-5">Fixes</a></li>
</ul></li>
<li><a href="#v3180-03062019">v3.18.0 (03/06/2019)</a>
<ul>
<li><a href="#features-6">Features</a></li>
<li><a href="#fixes-6">Fixes</a></li>
</ul></li>
<li><a href="#v3171-29052019">v3.17.1 (29/05/2019)</a>
<ul>
<li><a href="#fixes-7">Fixes</a></li>
</ul></li>
<li><a href="#v3170-13052019">v3.17.0 (13/05/2019)</a>
<ul>
<li><a href="#features-7">Features</a></li>
<li><a href="#fixes-8">Fixes</a></li>
</ul></li>
<li><a href="#v3160-30042019">v3.16.0 (30/04/2019)</a>
<ul>
<li><a href="#features-8">Features</a></li>
<li><a href="#fixes-9">Fixes</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
<h1 id="introduction">Introduction</h1>
<p>Ezzing 3DLayout is a PV planning tool that allows you to generate a 3d model of a building based on a satellite image. You can model any number of buildings, select between up to five different type of roofs, define keepouts and trees with custom heights…</p>
<p>Inside each roof area you can customize different structures, select module models and get automated previews of your setup.</p>
<p>It also provides you with a perspective view and a sun simulator to determine where the shadows will be in your installation.</p>
<p>Ezzing 3DLayout is an embebible webapp. You can integrate it inside your own system and customize many elements inside, from module models to prefered default settings for each roof type.</p>
<p>In this document you will find a brief showcase of the different areas of the app, a technical explanation on how to integrate this webapp inside your platform, a full description of the API that will allow you to communicate with the 3DLayout, and finally a description of how to customize different parts of the app.</p>
<img class="w100" src="./layout-doc-imgs/general/intro.jpg" alt="3DLayout" />
<br>

<p>You can test the app by visiting this link:</p>
<p><a href="https://layout.ezzing.com/#/demo"><a href="https://layout.ezzing.com/#/demo">https://layout.ezzing.com/#/demo</a></a></li></p>
<div class="page-break"></div>

<h1 id="screenshots">Screenshots</h1>
<img class="w100" src="./layout-doc-imgs/general/perspective-view.jpg" alt="Perspective view" />

<p><br><br></p>
<img class="w100" src="./layout-doc-imgs/general/sun-simulation.jpg" alt="Sun simulation" />

<div class="page-break"></div>

<h1 id="3dlayout-interface">3DLayout Interface</h1>
<p>The 3DLayout interface has two diferent parts: the <strong>aside panel</strong> and the <strong>canvas area</strong>.</p>
<h2 id="aside-panel">Aside Panel</h2>
<p>In the aside panel you can find functionalities related to the current active building and other objects in the scene.</p>
<br>

<img class="w100" src="./layout-doc-imgs/tabs/tab-building.jpg" alt="Tab building" />
<br><br>
<img class="w100" src="./layout-doc-imgs/tabs/tab-areas-1.jpg" alt="Tab areas 1" />
<br><br>
<img class="w100" src="./layout-doc-imgs/tabs/tab-areas-2.jpg" alt="Tab areas 2" />
<br><br>
<img class="w100" src="./layout-doc-imgs/tabs/tab-keepouts.jpg" alt="Tab keepouts" />
<br><br>
<img class="w100" src="./layout-doc-imgs/tabs/tab-trees.jpg" alt="Tab trees" />
<br><br>
<img class="w100" src="./layout-doc-imgs/tabs/tab-preferences.jpg" alt="Tab preferences" />

<div class="page-break"></div>

<h2 id="canvas-area">Canvas Area</h2>
<p>In the canvas area you can see the satellite view and three different sets of elements: the <strong>buildings index</strong> on the top-left side, the <strong>main options buttons</strong> on the top-right, and the <strong>control buttons</strong> on the bottom-right corner.</p>
<img class="w100" src="./layout-doc-imgs/canvas/canvas.jpg" alt="Canvas" />

<div class="page-break"></div>

<h3 id="buildings-index">Buildings Index</h3>
<p>In the buildings index you can see the active building and select another one to become active. The color represented on each index is the color of the building.</p>
<img class="w200px" src="./layout-doc-imgs/canvas/buildings-index.jpg" alt="Buildings index" />

<h3 id="main-options">Main Options</h3>
<p>These are the main options in the canvas area:</p>
<img class="w100" src="./layout-doc-imgs/canvas/main-options.jpg" alt="Main options" />

<p>All these buttons are the <strong>main options custom buttons</strong>. You can customize this set of buttons by hidding some of them, by sorting them, or by adding new buttons.</p>
<p>The default custom buttons are:</p>
<ul>
<li>Undo/Redo</li>
<li>Save: saves the layout in crm</li>
<li>Search address: moves the project center to the address specified</li>
<li>Snapshot: takes a photograph of the project (with or without modules in jpg format, or in svg format)</li>
<li>Fullscreen</li>
<li>Sun simulation: sun and shadow simulation</li>
<li>Perspective view: switches to 2D/3D view</li>
<li>Renderer</li>
<li>Satellite provider selector (only showed if available)</li>
</ul>
<div class="page-break"></div>

<h3 id="control-buttons">Control Buttons</h3>
<p>These are map related buttons. You can also customize the upper section of this set of buttons by hidding some of them or by adding new buttons.</p>
<img class="w75px" src="./layout-doc-imgs/canvas/control-buttons-1.png" alt="Control buttons 1" />

<p>Fixed buttons in this area:</p>
<ul>
<li>Zoom in</li>
<li>Zoom out</li>
</ul>
<br>

<img class="w75px" src="./layout-doc-imgs/canvas/control-buttons-2.png" alt="Control buttons 2" />

<p>3D control custom buttons:</p>
<ul>
<li>Compass: centers 3D view to north</li>
<li>Geolocation: centers 3D view to the project</li>
<li>Zoom in</li>
<li>Zoom out</li>
</ul>
<h3 id="notifications">Notifications</h3>
<p>Everytime an operation is being executed, it will appear at the top of the canvas a bar with the name of that operation. Its color represents the type of notification:</p>
<ul>
<li>Red: error</li>
<li>Orange: warning (you should wait until the operation is finished)</li>
<li>Green: success</li>
<li>Blue: info</li>
</ul>
<img class="w100" src="./layout-doc-imgs/canvas/notifications.jpg" alt="Notifications" />

<div class="page-break"></div>

<h1 id="buildings">Buildings</h1>
<h2 id="building-creation">Building creation</h2>
<p>To start using the tool you need to create your first building. To do so you can either click on the start button in the aside panel or in the ‘+’ icon, in the top left corner inside the canvas area. There is no limit on the number of buildings to create.</p>
<img class="w300px" src="./layout-doc-imgs/building/building-create-button.png" alt="Create Building Button">

<p>Since v3.24.0, once you click to create a new building, you will be prompted to choose which mode to use, there are available two ways of creating buildings:</p>
<img class="w200" src="./layout-doc-imgs/building/building-creation-mode.png" alt="Building Creation Modes">

<h3 id="custom-shapes">Custom shapes</h3>
<p>Custon Shapes lets you quickly create a building from a predefined set. This mode is designed to quickly add buidings to the project with common shapes. The current ones are:</p>
<img class="w200" src="./layout-doc-imgs/building/custom-shape-types.png" alt="Custom Shapes (Types)">

<p>Once you select one it will be created in the project center. You can tweak this custom shape from the aside panel (note that the canvas points can’t be edited as they’re grayed out). Configure the size of the edges and the building rotation in the panel. Clicking on <em>Finish</em> you will proceed to edit the building as regular one (see next section <em>Draw Shape</em>). Once the building is created you can move it like any other building to the desired place.</p>
<p>Special mention to the <em>Step by step</em> type. This powerful option lets you define a bulding wall by wall:</p>
<img class="w200" src="./layout-doc-imgs/building/custom-shapes-stepbystep.png" alt="Building Creation Modes">

<p>In the example above the user has configured the settings of 4 walls with their respective lengths and angles, plus a closing wall from the first to the last point. The closing wall is calculated automatically so you don´t have to worry about it.</p>
<p>To add a new wall you only need to click the <em>Add Step</em> button in the panel, the new wall will be listed below the ones already there and you can set it up as you wish.</p>
<h3 id="draw-shape">Draw shape</h3>
<p>Draw shape: the conventional way of creating buildings, in this mode you have to click on the canvas tu add each of the points that will define the shape of your building.</p>
<blockquote>
<p>Please, visit the section <a href="#drawing-with-snaps">Drawing with Snaps</a> to learn how to draw.</p>
</blockquote>
<p>Keep in mind that the different parts of the user interface serve different purposes:</p>
<ul>
<li>In the canvas area, you will be able to customize the shape of the building by clicking in the desired places.</li>
<li>In the aside panel, you will be able to change options such as ‘Populate with modules’ and ‘Building height’.</li>
</ul>
<p>The ‘Building Height’ input can be configured to:</p>
<ul>
<li>Gutter: the height will be measured from the floor to the lowest point of the roof.</li>
<li>Ridge: the height will be measured from the floor to the peak of the roof. Is the place where usually two (or more) opposing planes meet.</li>
</ul>
<img class="w300px" src="./layout-doc-imgs/building/building-height.png" alt="Building Height toggle" />

<blockquote>
<p>Change height units clicking on the current units to the right of the height number.</p>
</blockquote>
<p>The ‘Populated with modules’ option determines if the building will be created with or without modules. It is useful to deactivate it for simulating the shadows of the buildings.</p>
<p>You can activate the modules in the building edition (this configuration will be shown everytime the layout is loaded) or enabling the corresponding area in the area section.</p>
<img class="w300px" src="./layout-doc-imgs/building/populated-with-modules-toggle.png" alt="Populated with modules toggle" />

<blockquote>
<p>Please, visit the section <a href="#drawing-with-snaps">Drawing with Snaps</a> to learn how to draw.</p>
</blockquote>
<p>The next step once you have drawn the building is setting up the roof. There are different types of roofs depending on the shape of the building (if the building is irregular, the roof can only be flat or pent).</p>
<p>These are all the types of roof (available on regular buildings):</p>
<img class="w300px" src="./layout-doc-imgs/building/roof-types-v.3.25.png" alt="Roof types" />

<p>Each roof is composed of a determined number of areas that are automatically created.</p>
<p>You can also choose a roof material despite it is only informative. The material options are common for all roof types (tiled, trapezoidal, and corrugated):</p>
<img class="w200px" src="./layout-doc-imgs/building/roof-materials-1.png" alt="Rest of Roof materials" />

<p>Except for the flat roof type (gravel, bitumen, membrane, and concrete):</p>
<img class="w200px" src="./layout-doc-imgs/building/roof-materials-2.png" alt="Flat Roof materials" />

<p>When the operation is finished, the textures of the building are generated using the mapper tool and the modules appear in a default subarea.</p>
<blockquote>
<p>Please, visit the section <a href="#textures">Textures</a> to learn how they are generated.</p>
</blockquote>
<p>Once the building is created, you will be able to:</p>
<ul>
<li>Edit</li>
<li>Move</li>
<li>Remove</li>
<li>Clone (it will be cloned with the same settings)</li>
<li>Paint</li>
</ul>
<h2 id="select-building">Select building</h2>
<p>By clicking in the buildings indexes, below the add building button (’+’ icon), you can select them. The selected building will become the active one and the canvas will be centered on that building. This is very useful when you are on a projects with several buildings and you want to focus your view on one. After selecting a building, the aside panel will show the properties of the building.</p>
<h2 id="edit-building">Edit building</h2>
<p>You can select between editing the building or editing the roof.</p>
<p>In the first option you can modify the building vertices following the steps of the building creation. If you edit the roof you can select any type of roof and it will be recalculated.</p>
<img class="w300px" src="./layout-doc-imgs/building/building-edit.png" alt="Building edit" />

<h2 id="roof-editor">Roof editor</h2>
<p>You can edit a roof by clicking in the pencil icon in the roof section:</p>
<img class="w300px" src="./layout-doc-imgs/building/roof-editor.png" alt="Roof edit" />

<p>After that, you can change the roof type in a similar way as you did when creating the building. To know the interactions available in each roof type, read the draggable help window that displays the interactions with each roof:</p>
<img class="w200px" src="./layout-doc-imgs/building/roof-editor-helper.png" alt="Roof editor helper" />

<blockquote>
<p>You can click on the upper right corner to minimize the helper if you need more available space to work.</p>
</blockquote>
<h3 id="pent-and-pergola">Pent and pergola</h3>
<img class="w200px" src="./layout-doc-imgs/building/pent-editor.png" alt="Pent & Pergola Editor" />

<p>Lets you modify the angle of inclination by clicking somewhere inside the roof and changing the angle. You can change the orientation of the roof by clicking one of the roof edges and selecting “Change Orientation”.</p>
<h3 id="pyramid">Pyramid</h3>
<img class="w200px" src="./layout-doc-imgs/building/pyramid-editor.png" alt="Pyramid Editor" />

<p>Similar to pents but this roof has four faces instead of one and you can move the top vertex (the peak of the pyramid) to adjust to the desired shape.</p>
<h3 id="gabled">Gabled</h3>
<img class="w200px" src="./layout-doc-imgs/building/gabled-editor.png" alt="Gabled Editor" />

<p>Gabled roofs lets you move the edge of the ridge along the whole roof base. You can also change the inclination of the planes as with previous roofs. To change the orientation of the ridge you can click on one edge (like with pent roofs) or using the icons in the aside panel called: East/West or South/North.</p>
<h3 id="hipped">Hipped</h3>
<img class="w200px" src="./layout-doc-imgs/building/hipped-editor.png" alt="Hipped Editor" />

<p>Similar in options to a gabled roof, but slightly more complex. The main difference is that in hipped you have two vertex that define the ridge of the roof (the edge at the peak). There’s a switch in the aside panel to ensure the symmetry of the ridge.</p>
<h3 id="mansard">Mansard</h3>
<img class="w200px" src="./layout-doc-imgs/building/mansard-editor.png" alt="Mansard Editor" />

<p>The first time you convert a roof to a mansard you’ll see that a basic mansards is like a pyramid roof that has the upper part sectioned.</p>
<p>In a mansard roof, besides the inclination settings available in other roof types, it is possible to change the size of a four-sided ridge. If the symmetric ridge switch in the panel is on, the ridge will have a perfect square ratio.</p>
<p>After clicking <em>Finish</em> with a mansard roof, you will see two roofs in the aside panel:</p>
<img class="w300px" src="./layout-doc-imgs/building/mansard-second-roof-A.png" alt="Mansard Editor" />

<p>You can change the default flat roof (Roof 2 in the previous image) created on top of the mansard to other type of roof. The image below shows a mansard with a pent roof on top as an example:</p>
<img class="w40center" src="./layout-doc-imgs/building/mansard-second-roof-B.png" alt="Mansard Compound Roof" />

<div class="page-break"></div>

<h1 id="areas">Areas</h1>
<p>The areas are sections on the roof that are automatically created when selecting the type of roof.</p>
<p>Each area is composed of at least one subarea and has the information of the number of modules it contains and the power that generates.</p>
<p>If you want to disable one area, you can click on the eye button next to its name. By doing this, its module count and power generated will be set to 0.</p>
<img class="w75" src="./layout-doc-imgs/general/area-disabled.jpg" alt="Area disabled" />

<h2 id="edit-area">Edit area</h2>
<p>To edit an area you can modify the edge zone value. It is a numeric value that specifies the distance between the building limits and the subareas that exist within that area.</p>
<div class="page-break"></div>

<h1 id="subareas">Subareas</h1>
<p>A subarea is a region inside an area that allows you to define a modules installation just in a section of the area.</p>
<p>By clicking on a subarea, two views will appear: the project view (top) and the subarea view (bottom).</p>
<p>The subarea view is hidden by default. To toggle its view, you have to click on the button ‘Open subarea view’ or ‘Close subarea view’ at the bottom of the canvas.</p>
<img class="w75" src="./layout-doc-imgs/subarea/edit-subarea.jpg" alt="Subarea view" />

<blockquote>
<p>Note that when moving the subarea or changing its azimuth the subarea view will be opened. This is because this view hasn’t got any deformation.</p>
</blockquote>
<h2 id="subarea-creation">Subarea creation</h2>
<p>To create a subarea click on the ‘Create subarea’ button.</p>
<img class="w200px" src="./layout-doc-imgs/subarea/subarea-creation-button.png" alt="Subarea creation button" />

<p>Once the subarea is created, you will be able to:</p>
<ul>
<li>Edit</li>
<li>Move</li>
<li>Refresh</li>
<li>Remove (only if the area has more than one subarea)</li>
<li>Clone (it will be cloned with the same settings)</li>
</ul>
<img class="w200px" src="./layout-doc-imgs/subarea/remove-add-subareas.png" alt="Remove add subareas" />

<p>If you want to disable one subarea, you can click on the eye button next to its name. By doing this, its module count and power generated will be set to 0.</p>
<div class="page-break"></div>

<h2 id="add-subarea">Add subarea</h2>
<p>By clicking the ‘Create subarea’ button you enter in the subarea creation process.</p>
<p>If you create the first subarea it will replace the default one.</p>
<img class="w75" src="./layout-doc-imgs/subarea/add-subarea.jpg" alt="Add subarea" />

<h3 id="crop-subarea-to-the-area-shape">Crop subarea to the area shape</h3>
<p>When editing the vertices of a subarea you can check the ‘Crop’ option. This helps you to draw subareas that extends to the border of the building with more precision.</p>
<img class="w200px" src="./layout-doc-imgs/subarea/crop-shape-building-toggle.png" alt="Crop shape building toggle" />

<p>If you uncheck this option then the subarea can extend outside the area, following the area plane.</p>
<img class="w75" src="./layout-doc-imgs/subarea/subarea-sample.jpg" alt="Subarea sample" />

<h3 id="edit-subarea-vertices">Edit subarea vertices</h3>
<p>By clicking this button you can modify subarea vertices and the subarea will be recalculated.</p>
<div class="page-break"></div>

<h2 id="edit-subarea">Edit subarea</h2>
<p>By clicking on a subarea you enter in the subarea edition process.</p>
<img class="w75" src="./layout-doc-imgs/subarea/edit-subarea.jpg" alt="Edit subarea" />

<p>You will be able to refresh, paint or move all the modules.</p>
<p>These are all the subarea edition options:</p>
<ul>
<li>Module model: there are different module models available that have different size, weight and watt peak capacity</li>
<li>Module orientation: you can choose between ‘landscape’ and ‘portrait’</li>
<li>Panels orientation: you can choose between ‘south’ and ‘east/west’</li>
<li>Module inclination</li>
<li>Distance between modules</li>
<li>Distance between rows</li>
<li>Distance between centers</li>
<li>Use max. shadow calculation: calculates the distance between rows and centers depending on the module inclination</li>
<li>Azimuth: modules rotation</li>
<li>Staggered enabled</li>
<li>Sails</li>
<li>Dilatation lines</li>
</ul>
<p>Here, you can click on any module to enable/disable it. If you right click on a module it will be displayed its position (row and column).</p>
<h2 id="remove-subarea">Remove subarea</h2>
<p>By clicking this button you can remove a single subarea from the subareas list. It is only available if there exists more than one subarea.</p>
<div class="page-break"></div>

<h1 id="keepouts">Keepouts</h1>
<p>Keepouts are created for simulating any obstacle that might interrupt the installation of modules.</p>
<p>When a keepout is created, there can’t be any module that occupies the same position.</p>
<p>You can customize them by changing their height, offset and type (vertical or inclined).</p>
<!-- FIX

## Keepout height calculations

When creating keepouts, please note the height selected for the keepout is not always the final keepout height.

Depending on the roof inclination and the keepout dimensions and positions, there is a minimum keepout height to avoid keepouts under the roof surface.
Let's see an example:

<img class="w100" src="./layout-doc-imgs/keepout/keeoput-height-scheme.jpg" alt="keeoput-height-scheme" />

In keepout 1, A is the desired height, and B is the minimum height for this keepout. As A is bigger than B then the keepout is created with the desired height (A).

In keepout 2, A is also the desired height, but the keepout can't be drawn correctly if the height is less than B measure, as some parts of the keepout will stay below the roof, so keepout 2 will be created with the minimum calculated height (B).
-->

<blockquote>
<p>Note that for flat roofs it is posible to create 0 height keepouts, but for inclinated roofs you need to use the invisible keepouts feature to allow keepouts at roof surface level.</p>
</blockquote>
<h2 id="invisible-keepouts">Invisible keepouts</h2>
<p>If you want to simulate a skylight or any keepout object without drawing the 3D volume you can check the ‘Invisible keepout’ option to hide the 3D volume but still taking the obstacle into account.</p>
<img class="w200px" src="./layout-doc-imgs/keepout/invisible-keepout-toggle.png" alt="Invisible keepout toggle" />

<h2 id="crop-keepout-to-the-building-shape">Crop keepout to the building shape</h2>
<p>When editing the vertices of a keepout you can check the ‘Crop shape to building limits’ option. This helps you to draw keepouts that extends to the border of the building with more precision.</p>
<img class="w200px" src="./layout-doc-imgs/keepout/crop-shape-keepout-toggle.png" alt="Crop shape keepout toggle" />

<p>If you uncheck this option then the keepout can be floating outside the building limits. At least one vertex of the keepout should be inside the building limits to be created.</p>
<h2 id="vertical-and-inclined-keepouts">Vertical and inclined keepouts</h2>
<p>You can create a keepout as vertical or inclined. If the keepout is inclined, it will be created starting from the inclination of the building.</p>
<div class="page-break"></div>

<h1 id="trees">Trees</h1>
<p>Trees belong to the scene, not to a building.</p>
<p>It is important to create trees for simulating the shadows on the roofs. Therefore, you will be able to move them and modify their height and radius. The shape of the tree is calculated according to the proportion of these values.</p>
<img class="w75" src="./layout-doc-imgs/general/tree.jpg" alt="Tree" />

<div class="page-break"></div>

<h1 id="drawing-with-snaps">Drawing with Snaps</h1>
<p>The snap is a helpful tool for drawing buildings, subareas and keepouts.</p>
<p>There are three ways for drawing points: without snap, using <strong>guide lines</strong> or a <strong>grid</strong>.</p>
<h2 id="without-snap">Without Snap</h2>
<p>You can draw unassisted disabling both snap options. With this option you can put a point anywhere.</p>
<img class="w100px" src="./layout-doc-imgs/snaps/snap-without-options.png" alt="Snap disabled" />

<h2 id="guide-lines">Guide lines</h2>
<p>‘Guide lines’ is the default option when drawing. There are two ways for drawing points that can be combined to make the process easier: lines and vertices.</p>
<img class="w100px" src="./layout-doc-imgs/snaps/snap-guide-lines.png" alt="Snap guide lines" />

<p>To use them, you need first to draw two points. Once you have drawn them, there will appear parallel and perpendicular guide lines to the last drawn point. This way you can create regular shapes with right angles (it is also possible to move points along these guide lines).</p>
<p>Switching to the ‘Vertices’ option allows you to draw points at the intersections of the guide lines and the vertices of the buildings.</p>
<blockquote>
<p>Please, visit the section <a href="#context-panel">Context panel</a> to see more drawing features.</p>
</blockquote>
<h2 id="grid">Grid</h2>
<p>When selecting this option appears a grid that occupies the entire canvas area.</p>
<img class="w100px" src="./layout-doc-imgs/snaps/snap-grid.png" alt="Snap grid" />

<p>You can customize it by specifying a number for the grid size (size of each square) and an offset in the x and y coordinates for moving the grid.</p>
<blockquote>
<p>Please, visit the section <a href="#context-panel">Context panel</a> to see more drawing features.</p>
</blockquote>
<div class="page-break"></div>

<h2 id="context-panel">Context panel</h2>
<h3 id="on-a-point">On a point</h3>
<img class="w100px" src="./layout-doc-imgs/snaps/context-panel-point.jpg" alt="Context panel point" />

<p>When right clicking a point, you can:</p>
<ul>
<li>Draw guides here (only in ‘Guide lines’ option): draws parallel and perpendicular guide lines to this point in relation to the selected edge</li>
<li>Remove all guides (only in ‘Guide lines’ option): removes all guide lines except the ones to the selected point</li>
<li>Select/deselect point: this is useful for moving many points along a guide line at once</li>
<li>Deselect all points: deselects all points except the last selected one</li>
<li>Delete point</li>
</ul>
<h3 id="on-an-edge">On an edge</h3>
<img class="w100px" src="./layout-doc-imgs/snaps/context-panel-edge.jpg" alt="Context panel edge" />

<p>When right clicking an edge (only in ‘Guide lines’ option), you can:</p>
<ul>
<li>Select/deselect edge as guide: redraws the parallel and its perpendicular guide lines to the selected edge</li>
<li>Select/deselect all edges as guide</li>
</ul>
<h3 id="on-a-module">On a module</h3>
<img class="w100px" src="./layout-doc-imgs/snaps/context-panel-module.jpg" alt="Context panel module" />

<p>By right clicking a module, it will display:</p>
<ul>
<li>The position of the module (column and row)</li>
<li>Its index position in the row</li>
<li>Its index position in the column</li>
</ul>
<p>If dilatation lines are disabled, there are also two buttons to:</p>
<ul>
<li>Change row modules orientation</li>
<li>Add row offset</li>
</ul>
<h3 id="on-a-keepout-in-subarea-view">On a keepout in subarea view</h3>
<img class="w100px" src="./layout-doc-imgs/snaps/context-panel-keepout.jpg" alt="Context panel keepout" />

<p>By right clicking on a keepout in the subarea view you can set that keepout as active, closing the subarea view.</p>
<h3 id="on-an-object">On an object</h3>
<img class="w100px" src="./layout-doc-imgs/snaps/context-panel-area.jpg" alt="Context panel area" />

<p>You can also right click on any object in the svgProject. You will be able to set active, edit, move, etc the current object and its parents objects (ex: from a subarea you can execute areas and building operations).</p>
<div class="page-break"></div>

<h1 id="textures">Textures</h1>
<p>The textures are images obtained from the satellite displayed on the roof, with the same size and position.</p>
<p>They are generated by default when a building is created. You can disable their automatic creation in the Preferences panel.</p>
<img class="w200px" src="./layout-doc-imgs/general/building-textures-toggle.png" alt="Building textures toggle" />

<img class="w200px" src="./layout-doc-imgs/general/textures.png" alt="Textures" />

<p>In the building panel you can see the different options for the satellite image textures:</p>
<ul>
<li>‘+’ : adds satellite texture for the active building</li>
<li>Refresh (available when the active building has textures)</li>
<li>Remove (available when the active building has textures)</li>
<li>Generate for all buildings</li>
<li>Remove all satellite textures</li>
</ul>
<blockquote>
<p>Note that the textures generation might fail because of the speed of the internet connection or the speed of response of the satellite image provider. For preventing the failure you can select each building and wait for the satellite images to load or refresh the textures individually.</p>
</blockquote>
<div class="page-break"></div>

<h1 id="shortcuts">Shortcuts</h1>
<p>The shortcuts can be used in the following cases:</p>
<ul>
<li>To navigate between tabs, press 1, 2, 3 or 4</li>
<li>To execute undo press ‘Ctrl + Z’, and to execute redo press ‘Ctrl + Y’</li>
<li>When drawing:
<ul>
<li>To enable/disable snap to guides, press ‘S’</li>
<li>To toggle between guide lines and vertices you can hold ‘Ctrl’ / ‘⌘’</li>
<li>To select/deselect vertices, click on them while pressing ‘Shift’</li>
</ul></li>
<li>Editing a subarea:
<ul>
<li>Hold ‘Shift’ for selecting the hole row</li>
<li>Hold ‘Ctrl’ / ‘⌘’ for selecting the hole column</li>
</ul></li>
<li>Moving a building, subarea or keepout:
<ul>
<li>Down: Numpad 1, 2, 3 | ‘End’ | ‘Down arrow’ | ‘Page down’</li>
<li>Left: Numpad 1, 4, 7 | ‘End’ | ‘Left arrow’ | ‘Home’</li>
<li>Right: Numpad 3, 6, 9 | ‘Page down’ | ‘Right arrow’ | ‘Page up’</li>
<li>Center: Numpad 5 | ‘Clear’</li>
</ul></li>
<li>Save: for saving the project in crm you can press ‘Ctrl + Shift + S’ / ‘⌘ + Shift + S’</li>
<li>Widgets:
<ul>
<li>To cancel the operation or close the widget, press ‘Esc’</li>
<li>To confirm the operation, press ‘Enter’</li>
</ul></li>
</ul>
<p>Anyways, these shortcuts will be displayed on a widget, so you can consult them when necessary.</p>
<img class="w100px" src="./layout-doc-imgs/subarea/move-subarea-widget.png" alt="Move subarea shortcuts widget" />

<blockquote>
<p>For users with Mac operating system, Ctrl key in shortcuts will be disabled using the Command key instead (⌘).</p>
</blockquote>
<div class="page-break"></div>

<h1 id="progress-bar">Progress bar</h1>
<p>Everytime a long operation is being executed, it will be displayed a progress bar to inform the user.</p>
<p>The progress bar it’s composed of:</p>
<ul>
<li>Title: name of the operation being executed</li>
<li>Label 1: function withing the operation</li>
<li>Label 2: step of the funcion</li>
<li>Bar: if there is a determinate number of steps it will be increasing its value, if not, it will be shown as an animation</li>
<li>Cancel button: only visible on ‘Waiting for satellite tiles’ generating textures step</li>
</ul>
<img class="w75" src="./layout-doc-imgs/general/progress-bar-textures.jpg" alt="Generating textures progress bar" />

<div class="page-break"></div>

<h1 id="changelog">Changelog</h1>
<h2 id="v3250-24032020">v3.25.0 (24/03/2020)</h2>
<h3 id="features">Features</h3>
<ul>
<li>Read-only mode.</li>
<li>New roof type: mansard.</li>
<li>Navbar (Building/Areas/Object/Map/…) located at the very top: better visualization of panel options!</li>
<li>Enhanced undo/redo feature. We’ve got you covered!</li>
<li>Map snapshots.</li>
</ul>
<h3 id="fixes">Fixes</h3>
<ul>
<li>Fix bug due to users ommiting modals messages while changing attributes.</li>
<li>Performance boost.</li>
<li>Stability improvements.</li>
<li>Other minor fixes.</li>
</ul>
<h2 id="v3240-10022020">v3.24.0 (10/02/2020)</h2>
<h3 id="features-1">Features</h3>
<ul>
<li>Building Shapes: you can use common predesigned building shapes. Let’s skyrocket that productivity!</li>
<li>Improved roof geometries.</li>
<li>New roof type: pergola. <!-- Hey! Review translation the translation for: 'pergola' --></li>
<li>You can move roof points symmetrically (hipped roofs).</li>
<li>Turkish translations: Selam!</li>
</ul>
<h3 id="fixes-1">Fixes</h3>
<ul>
<li>Fix default module height was displayed in millimeters (instead of meters).</li>
<li>Labels displaying wrong when dilatation lines were added.</li>
<li>Snap to grid now behaves correctly.</li>
<li>Now modules being dragged show their right color.</li>
<li>Other minor fixes.</li>
</ul>
<h2 id="v3230-20112019">v3.23.0 (20/11/2019)</h2>
<h3 id="features-2">Features</h3>
<ul>
<li>Improved drawing speed.</li>
<li>New context panel buttons (by right-clicking on buildings, areas, subares, etc. from canvas).</li>
<li>When moving an object, other objects don’t interfere.</li>
<li>Subareas can be moved with keyboard shortcuts.</li>
</ul>
<h3 id="fixes-2">Fixes</h3>
<ul>
<li>Finish panels button is locked when the operation has not been validated.</li>
<li>Drawing alignment when switching perspective mode from 3D to 2D.</li>
</ul>
<h2 id="v3210-23092019">v3.21.0 (23/09/2019)</h2>
<h3 id="features-3">Features</h3>
<ul>
<li>New drawing in svgProject.</li>
<li>New cancel button on progress bar when generating textures.</li>
<li>Manage area habilitation from context menu (by right clicking on an area in svgProject).</li>
</ul>
<h3 id="fixes-3">Fixes</h3>
<ul>
<li>Deprecated layoutRules on aside header creation refactor.</li>
</ul>
<h2 id="v3200-29082019">v3.20.0 (29/08/2019)</h2>
<h3 id="features-4">Features</h3>
<ul>
<li>Undo/redo feature.</li>
<li>New module sails (available in subarea info panel).</li>
</ul>
<h3 id="fixes-4">Fixes</h3>
<ul>
<li>Implemented compass rotation in the subarea view.</li>
<li>Fixed autocad export error.</li>
<li>Update system info when changing dilatation lines values.</li>
<li>Close subarea panel on tab change.</li>
<li>Keepout projection error.</li>
<li>Removed vertical line on project loading screen.</li>
<li>Bug when switching perspective mode with an active subarea.</li>
<li>Error on zoom when Player is disabled.</li>
</ul>
<h2 id="v3190-09082019">v3.19.0 (09/08/2019)</h2>
<h3 id="features-5">Features</h3>
<ul>
<li>Compass and Center view buttons have been added in Showcase mode.</li>
<li>New benchmarks with 1000 and 100000 modules for performance testing.</li>
<li>New layoutRule to include inset in dilatation lines.</li>
<li>Path editor is now created as a json.</li>
</ul>
<h3 id="fixes-5">Fixes</h3>
<ul>
<li>The Showcase widget has been removed and the old shortcuts have been restored (camera traslation and rotation).</li>
<li>Removed Mapper flickering when redrawing buttons.</li>
<li>Fixed zoom when selecting a tree.</li>
<li>Cloning a subarea displays its information updated.</li>
<li>Fixed a bug in building indexes when canceling the creation of a building.</li>
<li>Fixed the Move subarea button performance when cloning a subarea repeatedly.</li>
<li>Fixed an error when creating a building after editing another one.</li>
<li>Json editor buttons click work properly.</li>
<li>It is now controlled when buildings have to be rendered.</li>
<li>Fixed ‘Invalid Lat, Lng’ console error.</li>
<li>Fixed resize listener related to bootstrap error.</li>
</ul>
<h2 id="v3180-03062019">v3.18.0 (03/06/2019)</h2>
<h3 id="features-6">Features</h3>
<ul>
<li>Created new tree shapes.</li>
<li>Changed cancel widget button background color to gray.</li>
<li>Logo and attributions aren’t displayed when Mapper is deactivated.</li>
<li>Recovered sun and flares in the sky.</li>
<li>Change project center depending on first building vertex distance from original center.</li>
</ul>
<h3 id="fixes-6">Fixes</h3>
<ul>
<li>Perspective widget is displayed at the left side of the canvas.</li>
<li>Changed providers selector style.</li>
<li>Fixed bottom buttons interruption on canvas drag.</li>
</ul>
<h2 id="v3171-29052019">v3.17.1 (29/05/2019)</h2>
<h3 id="fixes-7">Fixes</h3>
<ul>
<li>Change initial perspective widget position.</li>
</ul>
<h2 id="v3170-13052019">v3.17.0 (13/05/2019)</h2>
<h3 id="features-7">Features</h3>
<ul>
<li>New alert: the layout blocks when browser is not Chrome.</li>
<li>New features in sun simulation widget. Now you can set the date with the shortest or longest shadow, and reset the date to its default value. A new layoutRule has been defined to modify the default date of the simulator.</li>
<li>Shortcuts widgets style improvements.</li>
<li>There are new shortcuts to navigate between the main tabs. By pressing keys 1, 2, 3 and 4 you can navigate between Building, Areas, Objects and Preferences panels, respectively.</li>
<li>New alternative of using Command key instead of Ctrl in computers with mac OS operating system.</li>
</ul>
<h3 id="fixes-8">Fixes</h3>
<ul>
<li>Fixed a bug related to the subarea clone.</li>
<li>Fixed the translation and rotation in perspective mode and changed shortcuts.</li>
</ul>
<h2 id="v3160-30042019">v3.16.0 (30/04/2019)</h2>
<h3 id="features-8">Features</h3>
<ul>
<li>Context panel improvements on hover.</li>
<li>New button to show and hide subarea view.</li>
<li>Modified the progress bar (new styles showing information for the user).</li>
<li>Snap to vertices shortcuts improvements in Windows and Mac.</li>
<li>Created browser check.</li>
</ul>
<h3 id="fixes-9">Fixes</h3>
<ul>
<li>Reset modules when changing orientation.</li>
<li>Fixed unnecessary console warning.</li>
<li>Check modules number before deleting them.</li>
</ul>
</body>
</html>
